<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        @page {
            size: A4;
            margin: 0.5in;
        }

        body .map-image {
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }

        body h2 {
            text-align: center;
        }

        table.variables {
            width: 100%;
            border-spacing: 0px;
        }

        table.variables td {
            border-top: 1px solid #ddd;
            padding: 8px;
        }
    </style>
</head>
<body>
    <h2>{{ objective }}</h2>
    <img class="map-image" src="data:image/png;base64,{{ image_data }}" />

    <h4>Objective</h4>
    <div>{{ objective }}</div>

    <h4>{{ location_label }}</h4>
    <div><strong>Lon:</strong> {{ point.x }} <strong>Lat:</strong> {{ point.y }}</div>

    <h4>Climate scenarios</h4>
    <h5>Seedlot climate</h5>
    <div>Year: {{ seedlot_year }}</div>

    <h5>Planting site climate</h5>
    <div>Year: {{ site_year }}</div>
    {% if site_model %}<div>Model: {{ site_model }}</div>{% endif %}

    <h5>Data URL</h5>
    <div>
        <a href="http://cfcg.forestry.ubc.ca/projects/climate-data/climatebcwna/#ClimateWNA">
            http://cfcg.forestry.ubc.ca/projects/climate-data/climatebcwna/#ClimateWNA
        </a>
    </div>

    <h4>Transfer limit method</h4>
    <div>{{ method }}</div>

    {% if method == "Seed Zone" %}
        <h4>Species</h4>
        <div>{{ species }}</div>

        <h4>Seed zone</h4>
        <div>{{ zone }}</div>
    {% endif %}

    <h4>Climate variables</h4>
    <div>
        <table class="variables">
            <thead>
                <tr>
                    <th>Variable</th>
                    <th>Value</th>
                    <th>Transfer limit (+/-)</th>
                </tr>
            </thead>
            <tbody>
                {% for variable in variables %}
                    <tr>
                        <td>{{ variable.label }}</td>
                        <td>{{ variable.value }} {{ variable.units }}</td>
                        <td>
                            {{ variable.limit }} {{ variable.units }}
                            {% if variable.modified %}(modified){% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
